"use strict";document.addEventListener("DOMContentLoaded",function(){function i(){var t=document.querySelectorAll(".close-item");null!==t&&0<t.length&&t.forEach(function(t){t.addEventListener("click",function(t){t.stopPropagation(),null!=A&&(t=t.target.closest("li"),console.log(t),t.remove(),0===(t=document.querySelectorAll(".basket-item")).length?(A.style.display="none",E.classList.add("close-notification"),setTimeout(function(){E.classList.remove("show-notification"),E.classList.remove("close-notification")},1e3),E.textContent=""):0!==t.length&&(E.textContent=t.length,10<=t.length)&&(E.textContent="9+"))})})}function e(t){var e=(t=t.target.closest("li")).querySelector("img"),o=t.querySelector(".title"),t=t.querySelector(".price"),c=(f.classList.add("active-price-box"),e.src),o=o.textContent,e=e.alt;L.src=c,L.alt=e,b.textContent=o,g.textContent=t.textContent}function o(t){13===t.keyCode&&console.log("ok")}var t=document.querySelector("body"),c=document.querySelector(".search"),n=document.querySelector(".search-btn"),s=document.querySelector(".buy"),a=document.querySelector(".buy-box"),l=document.querySelector(".toggle-sidebar"),r=document.querySelector(".sidebar"),d=r.querySelector(".show-more-box"),u=document.querySelectorAll(".products"),m=document.querySelectorAll(".show-more"),v=document.querySelector(".shopping-card"),f=document.querySelector(".price-box"),y=document.querySelector(".close"),L=document.querySelector(".price-img"),g=document.querySelector(".money"),b=document.querySelector(".iphone-name"),h=document.querySelectorAll(".back-arrow"),q=document.querySelectorAll(".favorite"),S=r.querySelector(".arrow"),p=r.querySelector(".slider"),k=r.querySelector(".theme-text"),x=r.querySelector(".change-theme"),E=document.querySelector(".notification"),C=document.querySelector(".fav-notification"),A=document.querySelector(".basket-box"),T=document.querySelector(".basket-container"),w=document.querySelectorAll(".add-basket-btn"),z=document.querySelector(".favorite-card"),D=document.querySelector(".favorite-box"),M=document.querySelector(".fav-container");v.addEventListener("click",function(t){"block"!==A.style.display&&setTimeout(function(){A.style.display="block"},1)}),w.forEach(function(t){t.addEventListener("click",function(t){var e,o,c,n,s=t.target.closest("li");console.log("dodano do koszyka"),setTimeout(function(){s.classList.remove("active-info-card")},1),t=(t=t).target.closest("li"),e=t.querySelector("img").src,o=t.querySelector("img").alt,c=t.querySelector(".price").textContent,t=t.querySelector(".product-name").textContent,(n=document.createElement("li")).classList.add("basket-item"),n.innerHTML='\n\t\t<button class="close-item"><i class="fa-solid fa-xmark"></i></button>\n\t\t<div class="basket-img-box">\n\t\t\t<img src="'.concat(e,'" alt="').concat(o,'" class="basket-img">\n\t\t\t<h3 class="basket-title">').concat(t,'</h3>\n\t\t</div>\n\t\t<div class="basket-price-box">\n\t\t\t\n\t\t\t<p class="basket-price">').concat(c,"</p>\n\t\t</div>\n\t\t"),T.appendChild(n),e=document.querySelectorAll(".basket-item"),i(),0===e.length?console.log("Dodaj zakupy do koszyka"):0<e.length&&(E.textContent=e.length,E.classList.add("show-notification"),E.classList.remove("close-notification"),10<=e.length)&&(E.textContent="+9")})}),a.addEventListener("click",function(){a.classList.add("buy-box-active")}),document.addEventListener("click",function(t){!a.classList.contains("buy-box-active")||t.target.closest(".close-item")||a.contains(t.target)||a.classList.remove("buy-box-active"),"block"!==A.style.display||A.contains(t.target)||(A.style.display="none"),"block"!==D.style.display||D.contains(t.target)||(D.style.display="none")}),h.forEach(function(t){t.addEventListener("click",function(t){var e=t.target.closest("li");e.classList.contains("active-info-card")&&setTimeout(function(){e.classList.remove("active-info-card")},1)})}),y.addEventListener("click",function(){f.classList.contains("active-price-box")&&(f.classList.add("close-price-box"),setTimeout(function(){f.classList.remove("active-price-box"),f.classList.remove("close-price-box")},500))}),m.forEach(function(t){t.addEventListener("click",e)}),u.forEach(function(e){e.addEventListener("click",function(t){t.target.closest("li").classList.contains("active-info-card")||e.classList.add("active-info-card")})}),z.addEventListener("click",function(t){"block"!==D.style.display&&setTimeout(function(){D.style.display="block"},1)}),q.forEach(function(i){i.addEventListener("click",function(t){var e,o,c,n,s=t.target.closest("li"),t=(s.classList.contains("added-to-fav")||(s.classList.add("added-to-fav"),t=s.querySelector("img").src,n=s.querySelector("img").alt,e=s.querySelector(".price").textContent,o=s.querySelector(".product-name").textContent,(c=document.createElement("li")).classList.add("fav-li"),c.innerHTML='\n\t\t\t<button class="close-item"><i class="fa-solid fa-xmark"></i></button>\n\t    \t\t<div class="fav-img-box">\n\t       \t\t\t<img src="'.concat(t,'" alt="').concat(n,'" class="fav-img">\n\n\t        \t\t<h3 class="fav-title">').concat(o,'</h3>\n\t   \t\t\t</div>\n\n\t    \t\t<div class="fav-price-box">\n\t             \t<p class="fav-price">').concat(e,"</p>\n\t    \t\t</div>\n\t\t\t"),M.appendChild(c)),document.querySelectorAll(".fav-li"));null!==(n=document.querySelectorAll(".close-item"))&&0<n.length&&n.forEach(function(t){t.addEventListener("click",function(t){var c;t.stopPropagation(),D&&(c=t.target.closest("li"),document.querySelectorAll(".product-name").forEach(function(t){var e=c.querySelector(".fav-title"),o=t.textContent,t=t.closest("li");t.classList.contains("added-to-fav")&&e.textContent===o&&((e=t.querySelector(".favorite"))&&e.classList.remove("added-to-favorite"),c.remove(),t.classList.remove("added-to-fav"))}),0===(t=document.querySelectorAll(".fav-li")).length?(D.style.display="none",C.classList.add("close-notification"),setTimeout(function(){C.classList.remove("show-notification"),C.classList.remove("close-notification")},1e3),C.textContent=""):0!==t.length&&(C.textContent=t.length,10<=t.length)&&(C.textContent="9+"),console.log("ok"))})}),i.classList.add("added-to-favorite"),0===t.length?console.log("Dodaj do ulubionych"):0<t.length&&(C.textContent=t.length,C.classList.add("show-notification"),C.classList.remove("close-notification"),10<=t.length)&&(C.textContent="+9"),setTimeout(function(){s.classList.remove("active-info-card")},1)})}),p.addEventListener("click",function(){"light"===t.getAttribute("data-mode")?(t.setAttribute("data-mode","dark"),x.classList.add("slider-active")):(t.setAttribute("data-mode","light"),x.classList.remove("slider-active"))}),l.addEventListener("click",function(){r.classList.toggle("sidebar-active"),r.classList.contains("sidebar-active")?(d.style.display="flex",S.style.transform="rotate(180deg)",setTimeout(function(){k.style.opacity="1"},300)):(S.style.transform="rotate(0deg)",setTimeout(function(){d.style.display="none"},300),k.style.opacity="0")}),s.addEventListener("click",function(){c.classList.contains("search-active")&&(c.classList.remove("search-active"),c.classList.add("search-close"),setTimeout(function(){c.classList.remove("search-close")},500))}),c.addEventListener("keyup",function(t){o(t)}),n.addEventListener("click",function(){""!==c.value&&""===c.value||c.classList.add("search-active")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRBbGxFbGVtZW50c0luQmFza2V0IiwiY2xvc2VMaSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJmb3JFYWNoIiwiYnRuIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImJhc2tldCIsImNsb3Nlc3RMaSIsInRhcmdldCIsImNsb3Nlc3QiLCJjb25zb2xlIiwibG9nIiwicmVtb3ZlIiwiY2xvc2VQcmljZUJveCIsImFsbExpSW5CYXNrZXQiLCJwcmljZUJveCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwic2V0VGltZW91dCIsIm5vdGlmaWNhdGlvbiIsInNob3dQcmljZUJveCIsInRleHRDb250ZW50IiwicXVlcnlTZWxlY3RvciIsInByaWNlIiwiaW1nIiwiYmFza2V0T2ZmU2VhcmNoIiwic2VhcmNoIiwidGl0bGVUZXh0IiwidGl0bGUiLCJpbWdBbHQiLCJhbHQiLCJwcmljZUltZyIsInNpZGViYXJBY3RpdmUiLCJpcGhvbmVOYW1lIiwic2lkZWJhciIsIm1vbmV5Iiwic2hvd01vcmVCb3giLCJzdHlsZSIsImRpc3BsYXkiLCJiYWNrTGkiLCJib2R5IiwiYmFza2V0Qm94IiwiYWN0aXZlU2lkZWJhciIsInByb2R1Y3RzIiwic2hvcHBpbmdDYXJkQnRuIiwiY2xvc2UiLCJiYWNrQXJyb3ciLCJhcnJvdyIsInNsaWRlciIsInRoZW1lVGV4dCIsImNoYW5nZVRoZW1lQnRuIiwiZmF2Tm90aWZpY2F0aW9uIiwiYmFza2V0Q29udGFpbmVyIiwiYWRkQmFza2V0QnRuIiwic2hvd0ZhdkJveEJ0biIsImZhdkNvbnRhaW5lciIsImFjdGl2ZUJ1eVdpbmRvdyIsInNob3dGYXZCb3giLCJhZGRCdG4iLCJuZXdMaSIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImNsb3Nlc3RBbHQiLCJjb25jYXQiLCJjbG9zZXN0TmFtZSIsImNsb3Nlc3RQcmljZSIsInRhcmdldENsaWNrIiwidGFyZ2V0Q2xpY2tlZCIsImFsbFByb2R1Y3QiLCJmYXZFbGVtZW50TmFtZSIsIm5hbWVzIiwicHJvZHVjdCIsImFkZFRvRmF2b3JpdGVCdG4iLCJmYXZCb3giLCJpdGVtIiwibmV3RmF2IiwiYWxsRmF2TGkiLCJ2YWx1ZSIsInNlYXJjaEZ1bmN0aW90biIsImVudGVyQ2hlY2siLCJzaG93TW9yZUJ0bkNhcmQiLCJhY3RpdmVTZWFyY2giLCJhZGRJdGVtVG9CYXNrZXQiLCJjbG9zZXN0SW1nIiwiYnV0dG9uRWxlbWVudCIsImFsbE5hbWVzIiwiYWxsTGkiLCJvcGFjaXR5Iiwic2V0QXR0cmlidXRlIiwidG9nZ2xlIiwibmF2QnRuIl0sIm1hcHBpbmdzIjoiYUFBQUEsU0FBU0MsaUJBQWlCLG1CQUFvQixXQTZMekMsU0FoQ0VDLElBQ0wsSUFBTUMsRUFBVUgsU0FBU0ksaUJBQWlCLGFBQWEsRUFpQ3BELE9BaENDRCxHQWdDRCxFQUFBQSxFQUFBRSxRQS9CRkYsRUFnQ0VHLFFBQUEsU0FBQUMsR0EvQkRBLEVBQUlOLGlCQWdDSCxRQUFBLFNBQUFPLEdBL0JBQSxFQUFFQyxnQkFnQ0YsRUE5QklDLE1BQUFBLElBbUNIQyxFQURESCxFQUFBSSxPQUNDQyxRQUFBLElBQUEsRUFDSEMsUUFBRUMsSUFBQUosQ0FBQSxFQUNIQSxFQUFBSyxPQUFBLEVBR0tDLEtBakNLQyxFQUFnQmxCLFNBQVNJLGlCQUFpQixjQUFjLEdBaUM3Q0MsUUFDckJLLEVBQUlTLE1BQVNDLFFBQVVDLE9BQ3RCRixFQUFTQyxVQUFjRSxJQUFBLG9CQUFrQixFQTlCckNDLFdBZ0NNSCxXQUNURCxFQUFTQyxVQUFVSixPQUFPLG1CQUFrQixFQUM1Q1EsRUFBTUosVUFBQUosT0FBQSxvQkFBQSxDQUNSLEVBQUEsR0FBQSxFQUdLUyxFQUFZQyxZQUFaRCxJQUNtQyxJQUF6QlAsRUFBWUwsU0FDM0JXLEVBQVliLFlBQVVnQixFQUFvQnRCLE9BRWxCc0IsSUFBbEJDLEVBQWlCdkIs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cUQsT0FBQSxLQUFBckQsRUFBQXFELE9BQ0FyRCxFQUFBWCxVQUFBRSxJQUFBLGVBQUEsQ0F6Q0QsQ0FpTDBDLENBQzNDLENBQUMiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcblx0Y29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuXHRjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoJyk7XHJcblx0Y29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1idG4nKTtcclxuXHRjb25zdCBuYXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV5Jyk7XHJcblx0Y29uc3QgYmFza2V0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1eS1ib3gnKTtcclxuXHQvLyBjb25zdCBpY29uc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uJyk7XHJcblx0Y29uc3QgYWN0aXZlU2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2dnbGUtc2lkZWJhcicpO1xyXG5cdGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhcicpO1xyXG5cdGNvbnN0IHNob3dNb3JlQm94ID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKCcuc2hvdy1tb3JlLWJveCcpO1xyXG5cdGNvbnN0IHByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2R1Y3RzJyk7XHJcblx0Y29uc3Qgc2hvd01vcmVCdG5DYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNob3ctbW9yZScpO1xyXG5cdGNvbnN0IHNob3BwaW5nQ2FyZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaG9wcGluZy1jYXJkJyk7XHJcblxyXG5cdGNvbnN0IHByaWNlQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaWNlLWJveCcpO1xyXG5cdGNvbnN0IGNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJyk7XHJcblx0Y29uc3QgcHJpY2VJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJpY2UtaW1nJyk7XHJcblx0Y29uc3QgbW9uZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9uZXknKTtcclxuXHRjb25zdCBpcGhvbmVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlwaG9uZS1uYW1lJyk7XHJcblx0Y29uc3QgYmFja0Fycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhY2stYXJyb3cnKTtcclxuXHRjb25zdCBhZGRUb0Zhdm9yaXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhdm9yaXRlJyk7XHJcblxyXG5cdGNvbnN0IGFycm93ID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKCcuYXJyb3cnKTtcclxuXHQvLyBjb25zdCB0aXRsZSA9IHNpZGViYXIucXVlcnlTZWxlY3RvcignLnRpdGxlJyk7XHJcblx0Y29uc3Qgc2xpZGVyID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyJyk7XHJcblx0Y29uc3QgdGhlbWVUZXh0ID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKCcudGhlbWUtdGV4dCcpO1xyXG5cdGNvbnN0IGNoYW5nZVRoZW1lQnRuID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKCcuY2hhbmdlLXRoZW1lJyk7XHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdGlmaWNhdGlvbicpO1xyXG5cdGNvbnN0IGZhdk5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYXYtbm90aWZpY2F0aW9uJyk7XHJcblxyXG5cdGNvbnN0IGJhc2tldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXNrZXQtYm94Jyk7XHJcblx0Y29uc3QgYmFza2V0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhc2tldC1jb250YWluZXInKTtcclxuXHRjb25zdCBhZGRCYXNrZXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWRkLWJhc2tldC1idG4nKTtcclxuXHJcblx0Y29uc3Qgc2hvd0ZhdkJveEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYXZvcml0ZS1jYXJkJyk7XHJcblx0Y29uc3QgZmF2Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhdm9yaXRlLWJveCcpO1xyXG5cdGNvbnN0IGZhdkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYXYtY29udGFpbmVyJyk7XHJcblxyXG5cdGNvbnN0IGFjdGl2ZUJ1eVdpbmRvdyA9IChlKSA9PiB7XHJcblx0XHRpZiAoYmFza2V0LnN0eWxlLmRpc3BsYXkgIT09ICdibG9jaycpIHtcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0YmFza2V0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdFx0XHR9LCAxKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBzaG93RmF2Qm94ID0gKGUpID0+IHtcclxuXHRcdGlmIChmYXZCb3guc3R5bGUuZGlzcGxheSAhPT0gJ2Jsb2NrJykge1xyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRmYXZCb3guc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRcdH0sIDEpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGFkZEl0ZW1Ub0Jhc2tldCA9IChlKSA9PiB7XHJcblx0XHRjb25zdCBjbG9zZXN0TGkgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpO1xyXG5cdFx0Y29uc3QgY2xvc2VzdEltZyA9IGNsb3Nlc3RMaS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5zcmM7XHJcblx0XHRjb25zdCBjbG9zZXN0QWx0ID0gY2xvc2VzdExpLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmFsdDtcclxuXHRcdGNvbnN0IGNsb3Nlc3RQcmljZSA9IGNsb3Nlc3RMaS5xdWVyeVNlbGVjdG9yKCcucHJpY2UnKS50ZXh0Q29udGVudDtcclxuXHRcdGNvbnN0IGNsb3Nlc3ROYW1lID0gY2xvc2VzdExpLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LW5hbWUnKS50ZXh0Q29udGVudDtcclxuXHRcdGNvbnN0IG5ld0xpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuXHRcdG5ld0xpLmNsYXNzTGlzdC5hZGQoJ2Jhc2tldC1pdGVtJyk7XHJcblxyXG5cdFx0bmV3TGkuaW5uZXJIVE1MID0gYFxyXG5cdFx0PGJ1dHRvbiBjbGFzcz1cImNsb3NlLWl0ZW1cIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLXhtYXJrXCI+PC9pPjwvYnV0dG9uPlxyXG5cdFx0PGRpdiBjbGFzcz1cImJhc2tldC1pbWctYm94XCI+XHJcblx0XHRcdDxpbWcgc3JjPVwiJHtjbG9zZXN0SW1nfVwiIGFsdD1cIiR7Y2xvc2VzdEFsdH1cIiBjbGFzcz1cImJhc2tldC1pbWdcIj5cclxuXHRcdFx0PGgzIGNsYXNzPVwiYmFza2V0LXRpdGxlXCI+JHtjbG9zZXN0TmFtZX08L2gzPlxyXG5cdFx0PC9kaXY+XHJcblx0XHQ8ZGl2IGNsYXNzPVwiYmFza2V0LXByaWNlLWJveFwiPlxyXG5cdFx0XHRcclxuXHRcdFx0PHAgY2xhc3M9XCJiYXNrZXQtcHJpY2VcIj4ke2Nsb3Nlc3RQcmljZX08L3A+XHJcblx0XHQ8L2Rpdj5cclxuXHRcdGA7XHJcblxyXG5cdFx0YmFza2V0Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0xpKTtcclxuXHRcdGNvbnN0IGFsbExpSW5CYXNrZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFza2V0LWl0ZW0nKTtcclxuXHRcdGdldEFsbEVsZW1lbnRzSW5CYXNrZXQoKTtcclxuXHJcblx0XHRpZiAoYWxsTGlJbkJhc2tldC5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0RvZGFqIHpha3VweSBkbyBrb3N6eWthJyk7XHJcblx0XHR9IGVsc2UgaWYgKGFsbExpSW5CYXNrZXQubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSBhbGxMaUluQmFza2V0Lmxlbmd0aDtcclxuXHRcdFx0bm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ3Nob3ctbm90aWZpY2F0aW9uJyk7XHJcblx0XHRcdG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZS1ub3RpZmljYXRpb24nKTtcclxuXHJcblx0XHRcdGlmIChhbGxMaUluQmFza2V0Lmxlbmd0aCA+PSAxMCkge1xyXG5cdFx0XHRcdG5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9ICcrOSc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBnZXRBbGxFbGVtZW50c0luRmF2ID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgY2xvc2VMaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZS1pdGVtJyk7XHJcblx0XHRpZiAoY2xvc2VMaSAhPT0gbnVsbCAmJiBjbG9zZUxpLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0Y2xvc2VMaS5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gWmFwb2JpZWduaWogYsSFYmVsa293YW5pdSB6ZGFyemVuaWFcclxuXHJcblx0XHRcdFx0XHRpZiAoZmF2Qm94KSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRhcmdldENsaWNrID0gZS50YXJnZXQ7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRhcmdldENsaWNrZWQgPSB0YXJnZXRDbGljay5jbG9zZXN0KCdsaScpO1xyXG5cdFx0XHRcdFx0XHQvLyBjb25zdCBmYXZFbGVtZW50ID0gdGFyZ2V0Q2xpY2tlZC5xdWVyeVNlbGVjdG9yKCcuZmF2LXRpdGxlJyk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFsbFByb2R1Y3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdC1uYW1lJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRhbGxQcm9kdWN0LmZvckVhY2goKG5hbWVzKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgZmF2RWxlbWVudCA9IHRhcmdldENsaWNrZWQucXVlcnlTZWxlY3RvcignLmZhdi10aXRsZScpOyAvLyBQcnplbmllc2llbmllIHdld27EhXRyeiBwxJl0bGlcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBmYXZFbGVtZW50TmFtZSA9IGZhdkVsZW1lbnQ7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgYWxsTmFtZXMgPSBuYW1lcy50ZXh0Q29udGVudDtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBhbGxMaSA9IG5hbWVzLmNsb3Nlc3QoJ2xpJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChhbGxMaS5jbGFzc0xpc3QuY29udGFpbnMoJ2FkZGVkLXRvLWZhdicpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZmF2RWxlbWVudE5hbWUudGV4dENvbnRlbnQgPT09IGFsbE5hbWVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBhbGxMaS5xdWVyeVNlbGVjdG9yKCcuZmF2b3JpdGUnKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChidXR0b25FbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVHV0YWogbW/FvGVzeiB3eWtvbnl3YcSHIG9wZXJhY2plIG5hIGVsZW1lbmNpZSBidXR0b25FbGVtZW50XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhZGRlZC10by1mYXZvcml0ZScpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBVc3VuacSZY2llIGVsZW1lbnR1IGxpXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldENsaWNrZWQucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBVc3VuacSZY2llIGtsYXN5ICdhZGRlZC10by1mYXYnIHogZWxlbWVudHUgbGlcclxuXHRcdFx0XHRcdFx0XHRcdFx0YWxsTGkuY2xhc3NMaXN0LnJlbW92ZSgnYWRkZWQtdG8tZmF2Jyk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFNwcmF3ZMW6LCBjenkgdyBrb3N6eWt1IHPEhSBqZXN6Y3plIGVsZW1lbnR5XHJcblxyXG5cdFx0XHRcdFx0XHRjb25zdCBhbGxGYXZMaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYXYtbGknKTtcclxuXHRcdFx0XHRcdFx0aWYgKGFsbEZhdkxpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdGZhdkJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRcdFx0XHRcdGZhdk5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdjbG9zZS1ub3RpZmljYXRpb24nKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRmYXZOb3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1ub3RpZmljYXRpb24nKTtcclxuXHRcdFx0XHRcdFx0XHRcdGZhdk5vdGlmaWNhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZS1ub3RpZmljYXRpb24nKTtcclxuXHRcdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0ZmF2Tm90aWZpY2F0aW9uLnRleHRDb250ZW50ID0gJyc7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYWxsRmF2TGkubGVuZ3RoICE9PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0ZmF2Tm90aWZpY2F0aW9uLnRleHRDb250ZW50ID0gYWxsRmF2TGkubGVuZ3RoO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoYWxsRmF2TGkubGVuZ3RoID49IDEwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRmYXZOb3RpZmljYXRpb24udGV4dENvbnRlbnQgPSAnOSsnO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ29rJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGdldEFsbEVsZW1lbnRzSW5CYXNrZXQgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBjbG9zZUxpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlLWl0ZW0nKTtcclxuXHRcdGlmIChjbG9zZUxpICE9PSBudWxsICYmIGNsb3NlTGkubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjbG9zZUxpLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdFx0XHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBaYXBvYmllZ25paiBixIViZWxrb3dhbml1IHpkYXJ6ZW5pYVxyXG5cclxuXHRcdFx0XHRcdGlmIChiYXNrZXQgIT09IG51bGwgJiYgYmFza2V0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0Ly8gPC0tLSBabWlhbmFcclxuXHRcdFx0XHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGNsb3Nlc3RMaSA9IHRhcmdldC5jbG9zZXN0KCdsaScpO1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhjbG9zZXN0TGkpO1xyXG5cdFx0XHRcdFx0XHRjbG9zZXN0TGkucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRjb25zdCBhbGxMaUluQmFza2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhc2tldC1pdGVtJyk7XHJcblx0XHRcdFx0XHRcdGlmIChhbGxMaUluQmFza2V0Lmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdGJhc2tldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0XHRcdFx0XHRcdG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCdjbG9zZS1ub3RpZmljYXRpb24nKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRub3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1ub3RpZmljYXRpb24nKTtcclxuXHRcdFx0XHRcdFx0XHRcdG5vdGlmaWNhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZS1ub3RpZmljYXRpb24nKTtcclxuXHRcdFx0XHRcdFx0XHR9LCAxMDAwKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0bm90aWZpY2F0aW9uLnRleHRDb250ZW50ID0gJyc7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYWxsTGlJbkJhc2tldC5sZW5ndGggIT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSBhbGxMaUluQmFza2V0Lmxlbmd0aDtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGFsbExpSW5CYXNrZXQubGVuZ3RoID49IDEwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSAnOSsnO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGFkZFRvRmF2b3JpdGVCdG4uZm9yRWFjaCgoYnRuLCBlKSA9PiB7XHJcblx0XHRcdFx0XHQvLyBcdGlmIChidG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhZGRlZC10by1mYXZvcml0ZScpKSB7XHJcblx0XHRcdFx0XHQvLyBcdFx0Y29uc3QgYWxsUHJvZHVjdFdpdGhGYXYgPVxyXG5cdFx0XHRcdFx0Ly8gXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFkZGVkLXRvLWZhdicpO1xyXG5cdFx0XHRcdFx0Ly8gXHRcdGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhZGRlZC10by1mYXZvcml0ZScpO1xyXG5cdFx0XHRcdFx0Ly8gXHRcdGNvbnNvbGUubG9nKGFsbFByb2R1Y3RXaXRoRmF2KTtcclxuXHRcdFx0XHRcdC8vIFx0fVxyXG5cdFx0XHRcdFx0Ly8gfSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGNsb3NlUHJpY2VCb3ggPSAoKSA9PiB7XHJcblx0XHRpZiAocHJpY2VCb3guY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUtcHJpY2UtYm94JykpIHtcclxuXHRcdFx0cHJpY2VCb3guY2xhc3NMaXN0LmFkZCgnY2xvc2UtcHJpY2UtYm94Jyk7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHByaWNlQm94LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1wcmljZS1ib3gnKTtcclxuXHRcdFx0XHRwcmljZUJveC5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZS1wcmljZS1ib3gnKTtcclxuXHRcdFx0fSwgNTAwKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBzaG93UHJpY2VCb3ggPSAoZSkgPT4ge1xyXG5cdFx0Y29uc3QgY2xvc2VzdExpID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKTtcclxuXHRcdGNvbnN0IGltZyA9IGNsb3Nlc3RMaS5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcclxuXHRcdGNvbnN0IHRpdGxlID0gY2xvc2VzdExpLnF1ZXJ5U2VsZWN0b3IoJy50aXRsZScpO1xyXG5cdFx0Y29uc3QgcHJpY2UgPSBjbG9zZXN0TGkucXVlcnlTZWxlY3RvcignLnByaWNlJyk7XHJcblxyXG5cdFx0cHJpY2VCb3guY2xhc3NMaXN0LmFkZCgnYWN0aXZlLXByaWNlLWJveCcpO1xyXG5cclxuXHRcdGNvbnN0IGltZ1NyYyA9IGltZy5zcmM7XHJcblx0XHRjb25zdCB0aXRsZVRleHQgPSB0aXRsZS50ZXh0Q29udGVudDtcclxuXHRcdGNvbnN0IGltZ0FsdCA9IGltZy5hbHQ7XHJcblxyXG5cdFx0cHJpY2VJbWcuc3JjID0gaW1nU3JjO1xyXG5cdFx0cHJpY2VJbWcuYWx0ID0gaW1nQWx0O1xyXG5cdFx0aXBob25lTmFtZS50ZXh0Q29udGVudCA9IHRpdGxlVGV4dDtcclxuXHRcdG1vbmV5LnRleHRDb250ZW50ID0gcHJpY2UudGV4dENvbnRlbnQ7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgY2hhbmdlVGhlbWUgPSAoKSA9PiB7XHJcblx0XHRpZiAoYm9keS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kZScpID09PSAnbGlnaHQnKSB7XHJcblx0XHRcdGJvZHkuc2V0QXR0cmlidXRlKCdkYXRhLW1vZGUnLCAnZGFyaycpO1xyXG5cdFx0XHRjaGFuZ2VUaGVtZUJ0bi5jbGFzc0xpc3QuYWRkKCdzbGlkZXItYWN0aXZlJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgJ2xpZ2h0Jyk7XHJcblx0XHRcdGNoYW5nZVRoZW1lQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlci1hY3RpdmUnKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBhY3RpdmVTZWFyY2ggPSAoKSA9PiB7XHJcblx0XHRpZiAoc2VhcmNoLnZhbHVlID09PSAnJyB8fCBzZWFyY2gudmFsdWUgIT09ICcnKSB7XHJcblx0XHRcdHNlYXJjaC5jbGFzc0xpc3QuYWRkKCdzZWFyY2gtYWN0aXZlJyk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc2VhcmNoRnVuY3Rpb3RuID0gKGUpID0+IHtcclxuXHRcdGVudGVyQ2hlY2soZSk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgZW50ZXJDaGVjayA9IChlKSA9PiB7XHJcblx0XHRpZiAoZS5rZXlDb2RlID09PSAxMykge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnb2snKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBiYXNrZXRPZmZTZWFyY2ggPSAoKSA9PiB7XHJcblx0XHRpZiAoc2VhcmNoLmNsYXNzTGlzdC5jb250YWlucygnc2VhcmNoLWFjdGl2ZScpKSB7XHJcblx0XHRcdHNlYXJjaC5jbGFzc0xpc3QucmVtb3ZlKCdzZWFyY2gtYWN0aXZlJyk7XHJcblx0XHRcdHNlYXJjaC5jbGFzc0xpc3QuYWRkKCdzZWFyY2gtY2xvc2UnKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHNlYXJjaC5jbGFzc0xpc3QucmVtb3ZlKCdzZWFyY2gtY2xvc2UnKTtcclxuXHRcdFx0fSwgNTAwKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBzaWRlYmFyQWN0aXZlID0gKCkgPT4ge1xyXG5cdFx0c2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCdzaWRlYmFyLWFjdGl2ZScpO1xyXG5cdFx0aWYgKHNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaWRlYmFyLWFjdGl2ZScpKSB7XHJcblx0XHRcdHNob3dNb3JlQm94LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblx0XHRcdGFycm93LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMTgwZGVnKSc7XHJcblx0XHRcdC8vIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0dGhlbWVUZXh0LnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcblx0XHRcdH0sIDMwMCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRhcnJvdy5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDBkZWcpJztcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0c2hvd01vcmVCb3guc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0fSwgMzAwKTtcclxuXHJcblx0XHRcdC8vIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XHJcblx0XHRcdHRoZW1lVGV4dC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Ly89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0vL1xyXG5cclxuXHRzaG9wcGluZ0NhcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY3RpdmVCdXlXaW5kb3cpO1xyXG5cdGFkZEJhc2tldEJ0bi5mb3JFYWNoKChhZGRCdG4pID0+IHtcclxuXHRcdGFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdGNvbnN0IGJhY2tMaSA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdkb2Rhbm8gZG8ga29zenlrYScpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRiYWNrTGkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWluZm8tY2FyZCcpO1xyXG5cdFx0XHR9LCAxKTtcclxuXHJcblx0XHRcdGFkZEl0ZW1Ub0Jhc2tldChlKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRiYXNrZXRCb3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRiYXNrZXRCb3guY2xhc3NMaXN0LmFkZCgnYnV5LWJveC1hY3RpdmUnKTtcclxuXHR9KTtcclxuXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGJhc2tldEJveC5jbGFzc0xpc3QuY29udGFpbnMoJ2J1eS1ib3gtYWN0aXZlJykpIHtcclxuXHRcdFx0aWYgKCFlLnRhcmdldC5jbG9zZXN0KCcuY2xvc2UtaXRlbScpICYmICFiYXNrZXRCb3guY29udGFpbnMoZS50YXJnZXQpKSB7XHJcblx0XHRcdFx0YmFza2V0Qm94LmNsYXNzTGlzdC5yZW1vdmUoJ2J1eS1ib3gtYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoYmFza2V0LnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpIHtcclxuXHRcdFx0aWYgKCFiYXNrZXQuY29udGFpbnMoZS50YXJnZXQpKSB7XHJcblx0XHRcdFx0YmFza2V0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZmF2Qm94LnN0eWxlLmRpc3BsYXkgPT09ICdibG9jaycpIHtcclxuXHRcdFx0aWYgKCFmYXZCb3guY29udGFpbnMoZS50YXJnZXQpKSB7XHJcblx0XHRcdFx0ZmF2Qm94LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0YmFja0Fycm93LmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRjb25zdCBiYWNrTGkgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpO1xyXG5cdFx0XHRpZiAoYmFja0xpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlLWluZm8tY2FyZCcpKSB7XHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHRiYWNrTGkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWluZm8tY2FyZCcpO1xyXG5cdFx0XHRcdH0sIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0Y2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVByaWNlQm94KTtcclxuXHRzaG93TW9yZUJ0bkNhcmQuZm9yRWFjaCgoYnRuKSA9PiB7XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UHJpY2VCb3gpO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBwcm9kdWN0cy5mb3JFYWNoKChwcm9kdWN0KSA9PiB7XHJcblx0Ly8gXHRwcm9kdWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHQvLyBcdFx0aWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUtaW5mby1jYXJkJykpIHtcclxuXHQvLyBcdFx0XHRyZXR1cm47XHJcblx0Ly8gXHRcdH0gZWxzZSB7XHJcblx0Ly8gXHRcdFx0cHJvZHVjdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtaW5mby1jYXJkJyk7XHJcblx0Ly8gXHRcdH1cclxuXHQvLyBcdFx0Ly8gcHJvZHVjdC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtaW5mby1jYXJkJyk7XHJcblx0Ly8gXHR9KTtcclxuXHQvLyB9KTtcclxuXHJcblx0cHJvZHVjdHMuZm9yRWFjaCgocHJvZHVjdCkgPT4ge1xyXG5cdFx0cHJvZHVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRcdGlmIChlLnRhcmdldC5jbG9zZXN0KCdsaScpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlLWluZm8tY2FyZCcpKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHByb2R1Y3QuY2xhc3NMaXN0LmFkZCgnYWN0aXZlLWluZm8tY2FyZCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0c2hvd0ZhdkJveEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dGYXZCb3gpO1xyXG5cclxuXHRhZGRUb0Zhdm9yaXRlQnRuLmZvckVhY2goKGJ0bikgPT4ge1xyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdFx0Y29uc3QgYmFja0xpID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKTtcclxuXHJcblx0XHRcdC8vIGlmIChiYWNrTGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhZGRlZC10by1mYXYnKSkge1xyXG5cdFx0XHQvLyBcdHJldHVybjtcclxuXHRcdFx0Ly8gfVxyXG5cclxuXHRcdFx0aWYgKCFiYWNrTGkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhZGRlZC10by1mYXYnKSkge1xyXG5cdFx0XHRcdGJhY2tMaS5jbGFzc0xpc3QuYWRkKCdhZGRlZC10by1mYXYnKTtcclxuXHRcdFx0XHRjb25zdCBjbG9zZXN0SW1nID0gYmFja0xpLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLnNyYztcclxuXHRcdFx0XHRjb25zdCBjbG9zZXN0QWx0ID0gYmFja0xpLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmFsdDtcclxuXHRcdFx0XHRjb25zdCBjbG9zZXN0UHJpY2UgPSBiYWNrTGkucXVlcnlTZWxlY3RvcignLnByaWNlJykudGV4dENvbnRlbnQ7XHJcblx0XHRcdFx0Y29uc3QgY2xvc2VzdE5hbWUgPSBiYWNrTGkucXVlcnlTZWxlY3RvcignLnByb2R1Y3QtbmFtZScpLnRleHRDb250ZW50O1xyXG5cdFx0XHRcdGNvbnN0IG5ld0ZhdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0XHRcdFx0bmV3RmF2LmNsYXNzTGlzdC5hZGQoJ2Zhdi1saScpO1xyXG5cclxuXHRcdFx0XHRuZXdGYXYuaW5uZXJIVE1MID0gYFxyXG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwiY2xvc2UtaXRlbVwiPjxpIGNsYXNzPVwiZmEtc29saWQgZmEteG1hcmtcIj48L2k+PC9idXR0b24+XHJcblx0ICAgIFx0XHQ8ZGl2IGNsYXNzPVwiZmF2LWltZy1ib3hcIj5cclxuXHQgICAgICAgXHRcdFx0PGltZyBzcmM9XCIke2Nsb3Nlc3RJbWd9XCIgYWx0PVwiJHtjbG9zZXN0QWx0fVwiIGNsYXNzPVwiZmF2LWltZ1wiPlxyXG5cclxuXHQgICAgICAgIFx0XHQ8aDMgY2xhc3M9XCJmYXYtdGl0bGVcIj4ke2Nsb3Nlc3ROYW1lfTwvaDM+XHJcblx0ICAgXHRcdFx0PC9kaXY+XHJcblxyXG5cdCAgICBcdFx0PGRpdiBjbGFzcz1cImZhdi1wcmljZS1ib3hcIj5cclxuXHQgICAgICAgICAgICAgXHQ8cCBjbGFzcz1cImZhdi1wcmljZVwiPiR7Y2xvc2VzdFByaWNlfTwvcD5cclxuXHQgICAgXHRcdDwvZGl2PlxyXG5cdFx0XHRgO1xyXG5cdFx0XHRcdGZhdkNvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdGYXYpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGFsbEZhdkxpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhdi1saScpO1xyXG5cdFx0XHRnZXRBbGxFbGVtZW50c0luRmF2KCk7XHJcblx0XHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdhZGRlZC10by1mYXZvcml0ZScpO1xyXG5cclxuXHRcdFx0aWYgKGFsbEZhdkxpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdEb2RhaiBkbyB1bHViaW9ueWNoJyk7XHJcblx0XHRcdH0gZWxzZSBpZiAoYWxsRmF2TGkubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGZhdk5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9IGFsbEZhdkxpLmxlbmd0aDtcclxuXHRcdFx0XHRmYXZOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnc2hvdy1ub3RpZmljYXRpb24nKTtcclxuXHRcdFx0XHRmYXZOb3RpZmljYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2Utbm90aWZpY2F0aW9uJyk7XHJcblxyXG5cdFx0XHRcdGlmIChhbGxGYXZMaS5sZW5ndGggPj0gMTApIHtcclxuXHRcdFx0XHRcdGZhdk5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9ICcrOSc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHRiYWNrTGkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWluZm8tY2FyZCcpO1xyXG5cdFx0XHR9LCAxKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VUaGVtZSk7XHJcblx0YWN0aXZlU2lkZWJhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNpZGViYXJBY3RpdmUpO1xyXG5cdG5hdkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJhc2tldE9mZlNlYXJjaCk7XHJcblx0c2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgc2VhcmNoRnVuY3Rpb3RuKTtcclxuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY3RpdmVTZWFyY2gpO1xyXG59KTtcclxuIl19
